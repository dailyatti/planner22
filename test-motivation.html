<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Motivation System Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-btn { padding: 10px 20px; margin: 10px; background: #ff6b9d; color: white; border: none; border-radius: 8px; cursor: pointer; }
        .test-btn:hover { background: #ff4d7d; }
        .result { margin: 20px 0; padding: 15px; background: #f0f0f0; border-radius: 8px; }
    </style>
</head>
<body>
    <h1>üçí Motivation System Test</h1>
    
    <button class="test-btn" onclick="testMotivation()">Test Motivation System</button>
    <button class="test-btn" onclick="testToast()">Test Toast</button>
    <button class="test-btn" onclick="testCyclePredictions()">Test Cycle Predictions</button>
    
    <div id="result" class="result">
        <h3>Test Results:</h3>
        <div id="output"></div>
    </div>

    <div id="toast" class="toast" style="position: fixed; top: 20px; right: 20px; background: #ff6b9d; color: white; padding: 15px; border-radius: 8px; display: none;">Toast Message</div>

    <script>
        // Mock localStorage for testing
        if (!window.localStorage) {
            window.localStorage = {
                getItem: () => null,
                setItem: () => {},
                removeItem: () => {}
            };
        }

        // Mock cycle data
        localStorage.setItem('cherry::cycle', JSON.stringify({
            lastPeriod: '2024-01-01',
            cycleLength: 28
        }));

        // Test functions
        function testMotivation() {
            try {
                if (typeof window.showCycleBasedMotivation === 'function') {
                    window.showCycleBasedMotivation();
                    document.getElementById('output').innerHTML = '‚úÖ Motivation system working!';
                } else {
                    document.getElementById('output').innerHTML = '‚ùå showCycleBasedMotivation not found';
                }
            } catch (error) {
                document.getElementById('output').innerHTML = '‚ùå Error: ' + error.message;
            }
        }

        function testToast() {
            try {
                if (typeof window.showMotivationToast === 'function') {
                    window.showMotivationToast('Test motivation message', 'quote');
                    document.getElementById('output').innerHTML = '‚úÖ Toast system working!';
                } else {
                    document.getElementById('output').innerHTML = '‚ùå showMotivationToast not found';
                }
            } catch (error) {
                document.getElementById('output').innerHTML = '‚ùå Error: ' + error.message;
            }
        }

        function testCyclePredictions() {
            try {
                if (typeof window.updateCyclePredictions === 'function') {
                    window.updateCyclePredictions();
                    document.getElementById('output').innerHTML = '‚úÖ Cycle predictions working!';
                } else {
                    document.getElementById('output').innerHTML = '‚ùå updateCyclePredictions not found';
                }
            } catch (error) {
                document.getElementById('output').innerHTML = '‚ùå Error: ' + error.message;
            }
        }

        // Load main.js to test
        const script = document.createElement('script');
        script.type = 'module';
        script.src = './assets/js/main.js';
        script.onload = () => {
            document.getElementById('output').innerHTML = '‚úÖ main.js loaded successfully!';
        };
        script.onerror = () => {
            document.getElementById('output').innerHTML = '‚ùå Failed to load main.js';
        };
        document.head.appendChild(script);
    </script>
</body>
</html>
